"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[671],{1671:(Q,p,a)=>{a.r(p),a.d(p,{SearchModule:()=>b});var s=a(9808),l=a(505),g=a(2687),f=a(4128),m=a(262),h=a(9646),e=a(1223),_=a(2340),x=a(520);let u=(()=>{class n{constructor(t){this.http=t,this.url=_.N.tmdb.url,this.apiKey=_.N.tmdb.apiKey}getSearchResults(t,o){return this.http.get(this.url+"/search/multi?api_key="+this.apiKey+"&query="+t+"&region=US&include_adult=false&page="+o)}getMovieById(t){return this.http.get(this.url+"/movie/"+t+"?api_key="+this.apiKey)}getTVById(t){return this.http.get(this.url+"/tv/"+t+"?api_key="+this.apiKey)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(x.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var C=a(3398),S=a(9047),M=a(5672),d=a(9966),v=a(9546);function y(n,i){1&n&&(e.TgZ(0,"div",6),e._UZ(1,"app-loader"),e.qZA())}function P(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"app-discover-card",8),e.NdJ("added",function(c){return e.CHM(t),e.oxw(2).onAddMovie(c)})("removed",function(c){return e.CHM(t),e.oxw(2).onRemoveMovie(c)}),e.qZA()}if(2&n){const t=e.oxw().$implicit,o=e.oxw();e.Q6J("cardType","movie")("cardData",t)("inCollection",o.movieCollection.includes(t.id.toString()))}}function O(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"app-discover-card",8),e.NdJ("added",function(c){return e.CHM(t),e.oxw(2).onAddTV(c)})("removed",function(c){return e.CHM(t),e.oxw(2).onRemoveTV(c)}),e.qZA()}if(2&n){const t=e.oxw().$implicit,o=e.oxw();e.Q6J("cardType","tv")("cardData",t)("inCollection",o.tvCollection.includes(t.id.toString()))}}function T(n,i){if(1&n&&(e.ynx(0),e.YNc(1,P,1,3,"app-discover-card",7),e.YNc(2,O,1,3,"app-discover-card",7),e.BQk()),2&n){const t=i.$implicit;e.xp6(1),e.Q6J("ngIf","movie"===t.media_type),e.xp6(1),e.Q6J("ngIf","tv"===t.media_type)}}function w(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"a",14),e.NdJ("click",function(){return e.CHM(t),e.oxw(2),e.MAs(5).previous()}),e._UZ(1,"fa-icon",15),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("icon",t.faArrowLeft)}}function R(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"a",14),e.NdJ("click",function(){e.CHM(t);const c=e.oxw().$implicit;return e.oxw(2),e.MAs(5).setCurrent(c.value)}),e.TgZ(1,"span"),e._uU(2),e.qZA()()}if(2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.label)}}function A(n,i){if(1&n&&(e.TgZ(0,"div")(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.label)}}function Z(n,i){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,R,3,1,"a",11),e.YNc(2,A,3,1,"div",16),e.qZA()),2&n){const t=i.$implicit;e.oxw(2);const o=e.MAs(5);e.ekj("current",o.getCurrent()===t.value),e.xp6(1),e.Q6J("ngIf",o.getCurrent()!==t.value),e.xp6(1),e.Q6J("ngIf",o.getCurrent()===t.value)}}function J(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"a",14),e.NdJ("click",function(){return e.CHM(t),e.oxw(2),e.MAs(5).next()}),e._UZ(1,"fa-icon",15),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("icon",t.faArrowRight)}}function I(n,i){if(1&n&&(e.TgZ(0,"div",9)(1,"div",10),e.YNc(2,w,2,1,"a",11),e.qZA(),e.YNc(3,Z,3,4,"div",12),e.TgZ(4,"div",13),e.YNc(5,J,2,1,"a",11),e.qZA()()),2&n){e.oxw();const t=e.MAs(5);e.xp6(1),e.ekj("disabled",t.isFirstPage()),e.xp6(1),e.Q6J("ngIf",!t.isFirstPage()),e.xp6(1),e.Q6J("ngForOf",t.pages),e.xp6(1),e.ekj("disabled",t.isLastPage()),e.xp6(1),e.Q6J("ngIf",!t.isLastPage())}}const N=[{path:"",component:(()=>{class n{constructor(t,o,c){this.route=t,this.searchSerivce=o,this.cookieService=c,this.searchResultData=[],this.isReady=!1,this.maxSize=5,this.config={itemsPerPage:20,currentPage:1,totalItems:20},this.faArrowLeft=g.EyR,this.faArrowRight=g.yOZ}ngOnInit(){this.movieCollection=this.cookieService.getCookie("movieCollection"),this.tvCollection=this.cookieService.getCookie("tvCollection"),console.log(this.movieCollection),console.log(this.tvCollection),this.route.queryParamMap.subscribe(t=>{this.isReady=!1,this.searchResultData=[],this.searchString=String(t.get("q")),this.config={itemsPerPage:20,currentPage:1,totalItems:20},this.searchString.includes("tmdb")?(0,f.D)({movie:this.searchSerivce.getMovieById(this.searchString.replace("tmdb","")).pipe((0,m.K)(()=>(0,h.of)(null))),tv:this.searchSerivce.getTVById(this.searchString.replace("tmdb","")).pipe((0,m.K)(()=>(0,h.of)(null)))}).subscribe(o=>{o.movie&&(o.movie.media_type="movie",this.searchResultData.push(o.movie)),o.tv&&(o.tv.media_type="tv",this.searchResultData.push(o.tv)),this.isReady=!0}):this.searchSerivce.getSearchResults(this.searchString,1).subscribe({next:o=>{console.log(o.results),this.config.totalItems=o.total_results,this.searchResultData=o.results,this.isReady=!0},error:o=>{console.log(o),this.isReady=!0}})})}getSearchPage(t){this.isReady=!1,this.searchSerivce.getSearchResults(this.searchString,t).subscribe({next:o=>{this.config.currentPage=t,this.config.totalItems=o.total_results,this.searchResultData=o.results,console.log(this.searchResultData),this.isReady=!0,window.scrollTo(0,0)},error:o=>{console.log(o),this.isReady=!0,window.scrollTo(0,0)}})}onAddMovie(t){this.movieCollection.push(t.toString()),console.log("added movie - "+t)}onRemoveMovie(t){const o=this.movieCollection.indexOf(t.toString());this.movieCollection.splice(o,1),console.log("removed movie - "+t)}onAddTV(t){this.tvCollection.push(t.toString()),console.log("added tv - "+t)}onRemoveTV(t){const o=this.tvCollection.indexOf(t.toString());this.tvCollection.splice(o,1),console.log("removed tv - "+t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.gz),e.Y36(u),e.Y36(C.N))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-search"]],decls:7,vars:7,consts:[["class","loader-container",4,"ngIf"],["id","results-container"],[4,"ngFor","ngForOf"],[3,"maxSize","pageChange"],["p","paginationApi"],["class","custom-pagination",4,"ngIf"],[1,"loader-container"],[3,"cardType","cardData","inCollection","added","removed",4,"ngIf"],[3,"cardType","cardData","inCollection","added","removed"],[1,"custom-pagination"],[1,"pagination-previous"],[3,"click",4,"ngIf"],[3,"current",4,"ngFor","ngForOf"],[1,"pagination-next"],[3,"click"],[3,"icon"],[4,"ngIf"]],template:function(t,o){if(1&t&&(e.YNc(0,y,2,0,"div",0),e.TgZ(1,"div",1),e.YNc(2,T,3,2,"ng-container",2),e.ALo(3,"paginate"),e.qZA(),e.TgZ(4,"pagination-template",3,4),e.NdJ("pageChange",function(r){return o.getSearchPage(r)}),e.YNc(6,I,6,7,"div",5),e.qZA()),2&t){const c=e.MAs(5);e.Q6J("ngIf",!o.isReady),e.xp6(2),e.Q6J("ngForOf",e.xi3(3,4,o.searchResultData,o.config)),e.xp6(2),e.Q6J("maxSize",o.maxSize),e.xp6(2),e.Q6J("ngIf",c.pages.length>1)}},directives:[s.O5,S.R,s.sg,M.v,d.tk,v.BN],pipes:[d._s],styles:["#results-container[_ngcontent-%COMP%]{display:grid;grid-gap:2em;grid-template-columns:15% 15% 15% 15% 15%;justify-content:space-evenly;padding:2em}h1[_ngcontent-%COMP%]{margin-bottom:.4em;font-weight:600;display:flex;justify-content:center}p[_ngcontent-%COMP%]{margin:1em 0;padding:0 3em;text-align:center;font-size:.9em;color:#666}.toggle-container[_ngcontent-%COMP%]{display:block;margin:1em auto auto;width:max-content;border-radius:20px;text-align:center;padding:.3em;background-color:#f8f8f8}.toggle-container[_ngcontent-%COMP%]   #toggle-movie[_ngcontent-%COMP%], .toggle-container[_ngcontent-%COMP%]   #toggle-tv[_ngcontent-%COMP%]{display:inline-block;cursor:pointer;padding:.4em 1em;border-radius:20px;width:3em;color:#666;font-weight:500}.toggle-container[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{background-color:#000;color:#fff!important}.loader-container[_ngcontent-%COMP%]{margin-top:3em}.custom-pagination[_ngcontent-%COMP%]{display:flex;text-align:center;align-items:center;max-width:20em;margin:auto;padding-top:1em;padding-bottom:3em}.custom-pagination[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1;font-size:1.1em}.custom-pagination[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;padding:.6em}.current[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;width:1.2em;color:#fff;background-color:#000;padding:.4em;margin:0;border-radius:20px;font-size:.8em}@media (min-width: 2100px){pagination-template[_ngcontent-%COMP%]{font-size:1.2em}}@media (min-width: 2000px){.discover-nav[_ngcontent-%COMP%]{font-size:1.3em}}@media (min-width: 1800px){#results-container[_ngcontent-%COMP%]{grid-template-columns:11% 11% 11% 11% 11% 11% 11% 11%}.custom-pagination[_ngcontent-%COMP%]{padding-top:3em}}@media (max-width: 1800px){#results-container[_ngcontent-%COMP%]{grid-template-columns:12% 12% 12% 12% 12% 12% 12%}}@media (max-width: 1400px){#results-container[_ngcontent-%COMP%]{grid-template-columns:14% 14% 14% 14% 14% 14%}}@media (max-width: 1150px){#results-container[_ngcontent-%COMP%]{grid-template-columns:17% 17% 17% 17% 17%}}@media (max-width: 1020px){#results-container[_ngcontent-%COMP%]{grid-template-columns:20% 20% 20% 20%}}@media (max-width: 760px){#results-container[_ngcontent-%COMP%]{font-size:.9em}}@media (max-width: 725px){.discover-nav[_ngcontent-%COMP%]{font-size:.9em}}@media (max-width: 650px){#results-container[_ngcontent-%COMP%]{grid-template-columns:25% 25% 25%}}@media (max-width: 530px){pagination-template[_ngcontent-%COMP%]{font-size:.9em}}@media (max-width: 500px){#results-container[_ngcontent-%COMP%]{grid-template-columns:33% 33%;padding-left:0;padding-right:0;padding-top:1em}.discover-nav[_ngcontent-%COMP%]{margin-bottom:.5em}}@media (max-width: 410px){#results-container[_ngcontent-%COMP%]{grid-template-columns:50%}}@media (max-width: 400px){pagination-template[_ngcontent-%COMP%]{font-size:.8em}}@media (max-width: 350px){pagination-template[_ngcontent-%COMP%]{font-size:.7em}.discover-nav[_ngcontent-%COMP%]{font-size:.8em}}"]}),n})()}];let z=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[l.Bz.forChild(N)],l.Bz]}),n})();var F=a(4466),k=a(6375);let b=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[u],imports:[[s.ez,F.m,z,k.DiscoverModule,d.JX,v.uH]]}),n})()}}]);